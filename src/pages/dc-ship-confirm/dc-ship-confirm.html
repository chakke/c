<ion-header>
    <dc-header title="Dịch vụ" [showBackButton]="true" [showSearchBar]="false" [ionContent]="shipContent"></dc-header>
</ion-header>
<div class="fixed-top" id="ship-confirm-fixed-top">
    <div class="dc-step-group">
        <div class="step" *ngFor="let step of steps" [class.done]="step.isDone" [class.active]="step.active" [class.has-arrow]="step.hasArrow">
            <span class="step-number" [innerHTML]="step.isDone? checkedIcon : step.number"></span>
            <span class="step-title">{{step.title}}</span>
        </div>
    </div>
</div>
<ion-content id="ship-confirm-ion-content">
    <div class="dc-content" *ngIf="shipFoods.length > 0">
        <div class="form">
            <div class="item item-header">
                <ion-row>
                    <ion-col col-6>Tên món</ion-col>
                    <ion-col col-3 text-center>Số lượng</ion-col>
                    <ion-col col-3 text-right>Giá tiền</ion-col>
                </ion-row>
            </div>
            <div class="content">
                <div class="item" *ngFor="let food of shipFoods">
                    <ion-row>
                        <ion-col col-6>{{food.titleVie}}</ion-col>
                        <ion-col col-3 text-center><span class="dc-gray">{{food.quantily}}</span> </ion-col>
                        <ion-col col-3 text-right><span class="dc-price">{{(food.price * food.quantily).toLocaleString()}} đ</span> </ion-col>
                    </ion-row>
                </div>
            </div>
            <div class="item">
                <ion-row>
                    <ion-col col-6>Tạm tính</ion-col>
                    <ion-col col-3 text-center><span class="dc-gray">{{shipFoods.length}}</span></ion-col>
                    <ion-col col-3 text-right><span class="dc-price dc-bold">{{getTotalPrice()}} đ</span></ion-col>
                </ion-row>
            </div>
            <div class="item">
                <ion-row>
                    <ion-col col-6>Giảm giá</ion-col>
                    <ion-col col-3 text-center> </ion-col>
                    <ion-col col-3 text-right><span class="dc-price">{{discount.toLocaleString()}} đ</span></ion-col>
                </ion-row>
            </div>
            <div class="item">
                <ion-row>
                    <ion-col col-6>Phí giao hàng</ion-col>
                    <ion-col col-3 text-center> <span class="dc-green">{{shipDistance}} km</span></ion-col>
                    <ion-col col-3 text-right><span class="dc-price">{{shipCost.toLocaleString()}} đ</span></ion-col>
                </ion-row>
            </div>
            <div class="item item-total">
                <ion-row>
                    <ion-col col-6>Tổng tiền</ion-col>
                    <ion-col col-3 text-center> </ion-col>
                    <ion-col col-3 text-right><span class="dc-price">{{totalPrice.toLocaleString()}} đ</span></ion-col>
                </ion-row>
            </div>
        </div>
        <div class="button-group">
            <button class="dc-button-outline" (click)="getBack()">Quay lại</button>
            <button class="dc-button" (click)="continue()">Xác nhận</button>
        </div>
    </div>
    <div class="dc-content" *ngIf="shipFoods.length == 0">
        <div class=" dc-gray" padding text-center>
            Bạn chưa chọn món nào
        </div>
        <div class="button-group">
            <button class="dc-button-outline" (click)="getBack()">Quay lại</button>
        </div>
    </div>
</ion-content>